(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(22)},17:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),l=a(9),r=a.n(l),i=(a(17),a(24));var o=function(){const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)(""),[r,o]=Object(n.useState)(""),[s,u]=Object(n.useState)(""),[d,m]=Object(n.useState)("");return Object(n.useEffect)(()=>{(async()=>{try{const e=await i.a.get("http://127.0.0.1:8000/api/devices/");t(e.data)}catch(s){console.error("Error fetching devices:",s),u("Failed to fetch devices.")}})()},[]),c.a.createElement("div",{style:{backgroundColor:"blue",color:"white",minHeight:"100vh",padding:"20px"}},c.a.createElement("h1",null,"Device List"),s&&c.a.createElement("p",{style:{color:"red"}},s),d&&c.a.createElement("p",{style:{color:"green"}},d),c.a.createElement("ul",null,e.length>0?e.map(e=>c.a.createElement("li",{key:e.id},e.name," - ",e.location)):c.a.createElement("p",null,"No devices found.")),c.a.createElement("h2",null,"Add Device"),c.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{const e=await i.a.post("http://127.0.0.1:8000/api/add-device/",{deviceName:a,location:r});if(e.data.success){l(""),o(""),u(""),m(e.data.message||"Device added successfully!");const a=await i.a.get("http://127.0.0.1:8000/api/devices");t(a.data)}else u("Failed to submit device: "+(e.data.errors||"Unknown error"))}catch(s){console.error("Error submitting device:",s.response?s.response.data:s.message),u("Failed to submit device.")}}},c.a.createElement("div",null,c.a.createElement("label",null,"Device Name:",c.a.createElement("input",{type:"text",value:a,onChange:e=>l(e.target.value),required:!0}))),c.a.createElement("div",null,c.a.createElement("label",null,"Location:",c.a.createElement("input",{type:"text",value:r,onChange:e=>o(e.target.value),required:!0}))),c.a.createElement("button",{type:"submit"},"Submit")))};var s=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,25)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:l,getTTFB:r}=t;a(e),n(e),c(e),l(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o,null))),s()}},[[10,1,2]]]);
//# sourceMappingURL=main.d55d7484.chunk.js.map